<div>
    <table class="grid dict">
        {% if ValueSet.id.exists() %}
        <tr>
            <th scope="row"><b>Id: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.id}}</td>
        </tr>
        {% endif %}
        {% if ValueSet.url.exists() %}
        <tr>
            <th scope="row"><b>Url: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.url}}</td>
        </tr>
        {% endif %}
        {% if ValueSet.version.exists() %}
        <tr>
            <th scope="row"><b>Version: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.version}}</td>
        </tr>
        {% endif %}
        {% for identifier in ValueSet.identifier %}
        <tr>
            <th scope="row"><b>Identifier: </b></th>
            <td style="padding-left: 4px;">
                {% if identifier.type.exists() %}
                <p style="margin-bottom: 5px;">
                    <b>type: </b> <span>{{identifier.type.value}}</span>
                </p>
                {% endif %}
                {% if identifier.value.exists() %}
                <p style="margin-bottom: 5px;">
                    <b>value: </b> <span>{{identifier.value}}</span>
                </p>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
        {% if ValueSet.name.exists() %}
        <tr>
            <th scope="row"><b>Name: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.name}}</td>
        </tr>
        {% endif %}
        {% if ValueSet.title.exists() %}
        <tr>
            <th scope="row"><b>Title: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.title}}</td>
        </tr>
        {% endif %}
        {% if ValueSet.status.exists() %}
        <tr>
            <th scope="row"><b>Status: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.status.value}}</td>
        </tr>
        {% endif %}
        {% if ValueSet.experimental.exists() %}
        <tr>
            <th scope="row"><b>Experimental: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.experimental.value}}</td>
        </tr>
        {% endif %}
        {% if ValueSet.date.exists() %}
        <tr>
            <th scope="row"><b>Date: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.date}}</td>
        </tr>
        {% endif %}
        {% if ValueSet.publisher.exists() %}
        <tr>
            <th scope="row"><b>Publisher: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.publisher}}</td>
        </tr>
        {% endif %}
        <!--ValueSet.contact details TBD-->
        {% if ValueSet.description.exists() %}
        <tr>
            <th scope="row"><b>Description: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.description.escape('html')}}</td>
        </tr>
        {% endif %}
        {% if ValueSet.extension.where(url = 'http://hl7.org/fhir/StructureDefinition/valueset-rules-text').exists() %}
        <tr>
          <th scope="row"><b>Rules Text (Extension): </b></th>
          <td style="padding-left: 4px;">
            {% for extension in ValueSet.extension.where(url = 'http://hl7.org/fhir/StructureDefinition/valueset-rules-text') %}
                <pre><code>{{extension.value.escape('html')}}</code></pre>
                <!--Markdown rendering TBD-->
              {% endfor %}
          </td>
        </tr>
        {% endif %}
        {% if ValueSet.extension.where(url = 'http://fhir.org/guides/cdc/opioid-cds/StructureDefinition/cdc-valueset-clinical-focus').exists() %}
        <tr>
          <th scope="row"><b>Clinical Focus (Extension): </b></th>
          <td style="padding-left: 4px;">
            {% for extension in ValueSet.extension.where(url = 'http://fhir.org/guides/cdc/opioid-cds/StructureDefinition/cdc-valueset-clinical-focus') %}
                {{extension.value}}
              {% endfor %}
          </td>
        </tr>
        {% endif %}
        {% if ValueSet.extension.where(url = 'http://fhir.org/guides/cdc/opioid-cds/StructureDefinition/cdc-valueset-dataelement-scope').exists() %}
        <tr>
          <th scope="row"><b>Clinical Focus (Extension): </b></th>
          <td style="padding-left: 4px;">
            {% for extension in ValueSet.extension.where(url = 'http://fhir.org/guides/cdc/opioid-cds/StructureDefinition/cdc-valueset-dataelement-scope') %}
                {{extension.value}}
              {% endfor %}
          </td>
        </tr>
        {% endif %}
        {% if ValueSet.extension.where(url = 'http://fhir.org/guides/cdc/opioid-cds/StructureDefinition/cdc-valueset-inclusion-criteria').exists() %}
        <tr>
          <th scope="row"><b>Inclusion Criteria (Extension): </b></th>
          <td style="padding-left: 4px;">
            {% for extension in ValueSet.extension.where(url = 'http://fhir.org/guides/cdc/opioid-cds/StructureDefinition/cdc-valueset-inclusion-criteria') %}
                {{extension.value}}
              {% endfor %}
          </td>
        </tr>
        {% endif %}
<!--TBD contact value set author-->
 {% if ValueSet.extension.where(url = 'http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability').exists() %}
        <tr>
          <th scope="row"><b>CPG Knowledge Capability (Extension): </b></th>
          <td style="padding-left: 4px;">
            {% for extension in ValueSet.extension.where(url = 'http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability') %}
                {{extension.value}}
              {% endfor %}
          </td>
        </tr>
        {% endif %}
        {% if ValueSet.extension.where(url = 'http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeRepresentationLevel').exists() %}
        <tr>
          <th scope="row"><b>CPG Knowledge Representation Level (Extension): </b></th>
          <td style="padding-left: 4px;">
            {% for extension in ValueSet.extension.where(url = 'http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeRepresentationLevel') %}
                {{extension.value}}
              {% endfor %}
          </td>
        </tr>
        {% endif %}
        {% if ValueSet.extension.where(url = 'http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-usageWarning').exists() %}
        <tr>
          <th scope="row"><b>CPG Knowledge Representation Level (Extension): </b></th>
          <td style="padding-left: 4px;">
            {% for extension in ValueSet.extension.where(url = 'http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-usageWarning') %}
                {{extension.value}}
              {% endfor %}
          </td>
        </tr>
        {% endif %}
        {% if ValueSet.useContext.exists() %}
        <tr>
            <th scope="row"><b>Use Context: </b></th>
            <td style="padding-left: 4px;">
                <table class="grid-dict">
                    <tr><th><b>code</b></th><th><b>value</b></th><th><b>display</b></th></tr>
                    {% for useContext in ValueSet.useContext %}
                      <tr>
                        <td>{{useContext.code.code}}</td>
                        <td>{{(useContext.value as CodeableConcept).coding.first().code}}</td>
                        <td>{{(useContext.value as CodeableConcept).coding.first().display}}</td>
                      </tr>
                    {% endfor %}
                </table>
            </td>
        </tr>
        {% endif %}
        {% if ValueSet.jurisdiction.exists() %}
        <tr>
            <th scope="row"><b>Jurisdiction: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.jurisdiction.first().coding.first().code}}</td>
        </tr>
        {% endif %}
        <!--ValueSet.immutable TBD-->
        {% if ValueSet.purpose.exists() %}
        <tr>
            <th scope="row"><b>Purpose: </b></th>
            <td style="padding-left: 4px;">{{ValueSet.purpose}}</td>
        </tr>
        {% endif %}
    </table>
</div>
